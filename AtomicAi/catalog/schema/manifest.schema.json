{
  "$schema": "http://json-schema.org/draft/2020-12/schema",
  "title": "Component Manifest Schema",
  "description": "Unified schema for all component manifests (Atoms, Molecules, Organisms, Sections, Layouts, Pages)",
  "type": "object",
  "required": ["id", "level", "category", "title", "description"],
  "properties": {
    "id": {
      "type": "string",
      "description": "Unique component identifier (e.g., 'section.hero.splitMedia', 'atom.button')"
    },
    "level": {
      "type": "string",
      "enum": ["atom", "molecule", "organism", "section", "layout", "page"],
      "description": "Atomic design level"
    },
    "category": {
      "type": "array",
      "items": {"type": "string"},
      "minItems": 1,
      "description": "Component categories"
    },
    "title": {
      "type": "string",
      "description": "Human-readable title"
    },
    "description": {
      "type": "string",
      "description": "Detailed description for AI/RAG"
    },
    "tags": {
      "type": "array",
      "items": {"type": "string"},
      "description": "Tags for filtering/search (e.g., ['saas', 'agency', 'erp', 'marketing'])"
    },
    "slots": {
      "type": "object",
      "description": "Content slots that can be filled",
      "additionalProperties": {
        "type": "object",
        "properties": {
          "type": {"type": "string"},
          "required": {"type": "boolean"},
          "maxLen": {"type": "number"},
          "description": {"type": "string"}
        }
      }
    },
    "props": {
      "type": "object",
      "description": "Component properties/config",
      "additionalProperties": {
        "type": "object",
        "properties": {
          "type": {"type": "string"},
          "required": {"type": "boolean"},
          "default": {},
          "range": {"type": "array"},
          "description": {"type": "string"}
        }
      }
    },
    "constraints": {
      "type": "object",
      "description": "Business logic constraints"
    },
    "a11y": {
      "type": "object",
      "description": "Accessibility requirements"
    },
    "perf": {
      "type": "object",
      "description": "Performance requirements (lazy loading, critical CSS, etc.)"
    },
    "platformSupport": {
      "type": "object",
      "properties": {
        "web": {"type": "boolean"},
        "mobile": {"type": "boolean"},
        "desktop": {"type": "boolean"}
      }
    },
    "adapters": {
      "type": "object",
      "properties": {
        "mobile": {"type": "object"},
        "desktop": {"type": "object"}
      },
      "description": "Platform-specific adaptations"
    },
    "dependencies": {
      "type": "array",
      "items": {"type": "string"},
      "description": "Component IDs this depends on"
    },
    "whenToUse": {
      "type": "array",
      "items": {"type": "string"},
      "description": "Appropriate use cases (for AI guidance)"
    },
    "whenNotToUse": {
      "type": "array",
      "items": {"type": "string"},
      "description": "Inappropriate use cases (for AI guidance)"
    },
    "examples": {
      "type": "array",
      "items": {"type": "object"},
      "description": "Example usage configurations"
    }
  }
}

