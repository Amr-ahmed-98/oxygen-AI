{
  "$schema": "http://json-schema.org/draft/2020-12/schema",
  "title": "App Specification Schema (LLM Output)",
  "description": "Complete application specification that LLM generates (platform-agnostic)",
  "type": "object",
  "required": ["app", "routes"],
  "properties": {
    "app": {
      "type": "object",
      "required": ["name", "type", "platforms"],
      "properties": {
        "name": {"type": "string"},
        "type": {
          "type": "string",
          "enum": ["saas", "erp", "crm", "ecommerce", "agency", "portfolio", "blog", "dashboard"]
        },
        "platforms": {
          "type": "array",
          "items": {"type": "string", "enum": ["web", "mobile", "desktop"]},
          "minItems": 1
        },
        "locale": {
          "type": "object",
          "properties": {
            "default": {"type": "string"},
            "rtl": {"type": "boolean"},
            "supported": {"type": "array", "items": {"type": "string"}}
          }
        },
        "themePack": {"type": "string"},
        "density": {
          "type": "string",
          "enum": ["compact", "comfortable", "airy"]
        }
      }
    },
    "security": {
      "type": "object",
      "properties": {
        "multiTenant": {"type": "boolean"},
        "auth": {
          "type": "object",
          "properties": {
            "method": {"type": "string"},
            "twoFactor": {"type": "boolean"}
          }
        },
        "rbac": {"type": "boolean"}
      }
    },
    "navigation": {
      "type": "object",
      "properties": {
        "web": {"type": "object"},
        "mobile": {"type": "object"},
        "desktop": {"type": "object"}
      }
    },
    "modules": {
      "type": "array",
      "items": {"type": "string"}
    },
    "routes": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["id", "path", "screen"],
        "properties": {
          "id": {"type": "string"},
          "path": {"type": "string"},
          "screen": {"type": "string"},
          "permission": {"type": "string"}
        }
      }
    },
    "screens": {
      "type": "object",
      "additionalProperties": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "enum": ["list", "create", "edit", "detail", "dashboard", "settings", "custom"]
          },
          "entity": {"type": "string"},
          "components": {"type": "array"}
        }
      }
    }
  }
}

