{
  "$schema": "http://json-schema.org/draft/2020-12/schema",
  "title": "Product Pack Schema",
  "description": "Schema for product type packs (CRM, HRMS, POS, etc.)",
  "type": "object",
  "required": ["packId", "name", "productType", "modules"],
  "properties": {
    "packId": {
      "type": "string",
      "description": "Unique pack identifier (e.g., 'crm', 'hrms', 'pos')"
    },
    "name": {
      "type": "string",
      "description": "Product name"
    },
    "productType": {
      "type": "string",
      "enum": [
        "CRM",
        "HRMS_HCM",
        "WMS_TMS",
        "POS",
        "CMS_DXP",
        "LMS",
        "ECOMMERCE",
        "MARKETPLACE",
        "BOOKING",
        "HELPDESK_ITSM",
        "PROJECT_WORK",
        "BI_ANALYTICS",
        "CPQ",
        "BILLING_SUBSCRIPTION",
        "IDENTITY_IAM",
        "EAM_CMMS"
      ],
      "description": "Product type category"
    },
    "defaultAudience": {
      "type": "string",
      "enum": ["B2B", "B2C", "B2B2C", "D2C"],
      "description": "Default target audience"
    },
    "primaryPatterns": {
      "type": "array",
      "items": {"type": "string"},
      "description": "Primary UI patterns this product uses"
    },
    "coreModules": {
      "type": "array",
      "items": {"type": "string"},
      "description": "Core modules always included"
    },
    "modules": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "moduleId": {"type": "string"},
          "title": {"type": "string"},
          "entities": {"type": "array", "items": {"type": "string"}},
          "required": {"type": "boolean"}
        }
      }
    },
    "sensitiveData": {
      "type": "object",
      "properties": {
        "fieldMasking": {"type": "boolean"},
        "auditRequired": {"type": "boolean"},
        "defaultRetentionDays": {"type": "number"}
      }
    },
    "platformAdapters": {
      "type": "object",
      "properties": {
        "mobile": {"type": "object"},
        "desktop": {"type": "object"}
      }
    },
    "workflows": {
      "type": "array",
      "items": {"type": "string"},
      "description": "Default workflows"
    },
    "integrations": {
      "type": "array",
      "items": {"type": "string"},
      "description": "Common integrations needed"
    }
  }
}

