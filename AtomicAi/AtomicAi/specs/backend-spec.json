{
  "version": "1.0.0",
  "description": "Backend specification (DB/Auth/Runtime)",
  "stack": {
    "frontend": {
      "framework": "nextjs",
      "router": "appRouter"
    },
    "backend": {
      "runtime": "node",
      "apiStyle": "routeHandlers"
    },
    "db": {
      "provider": "postgres",
      "orm": "prisma"
    },
    "auth": {
      "provider": "nextAuth",
      "session": "jwt"
    },
    "hosting": {
      "default": "docker",
      "supports": ["docker", "vercel", "onprem"]
    }
  },
  "tenancy": {
    "mode": "multiTenantSaaS",
    "tenantField": "tenantId",
    "strategy": "rowLevel"
  },
  "security": {
    "rbac": true,
    "auditLogs": true,
    "softDelete": true
  },
  "api": {
    "basePath": "/api",
    "queryModel": "v1",
    "contractsRef": "catalog/backend/api-contracts.json",
    "policyRef": "catalog/backend/policy-contract.json"
  },
  "integrations": {
    "email": {
      "enabled": true,
      "provider": "smtp"
    },
    "webhooks": {
      "enabled": true
    },
    "files": {
      "enabled": true,
      "provider": "localOrS3"
    }
  },
  "observability": {
    "logs": true,
    "tracing": false,
    "healthEndpoint": true
  },
  "deploymentPresets": {
    "cloudNative": {
      "useExternalCDN": true
    },
    "onPremise": {
      "useExternalCDN": false
    }
  }
}

