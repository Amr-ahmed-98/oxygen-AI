{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "version": "1.0.0",
  "description": "Platform-specific rules and constraints",
  "platforms": {
    "web": {
      "styling": ["cssvars", "tailwind", "cssmodules", "styled"],
      "routing": ["nextjs", "react-router"],
      "navigation": "sidebar + header",
      "dataDisplay": {
        "tables": true,
        "cards": true,
        "lists": true
      },
      "forms": {
        "maxFieldsPerPage": 20,
        "stepperThreshold": 10
      },
      "touchTargets": {
        "min": "32px",
        "recommended": "40px"
      }
    },
    "mobile": {
      "styling": ["nativewind", "stylesheet"],
      "routing": ["expo-router", "react-navigation"],
      "navigation": "tabs + stack",
      "dataDisplay": {
        "tables": false,
        "cards": true,
        "lists": true,
        "tableReplacement": "CardListPro"
      },
      "forms": {
        "maxFieldsPerPage": 5,
        "stepperThreshold": 3,
        "useStepper": true
      },
      "touchTargets": {
        "min": "44px",
        "recommended": "48px"
      },
      "filters": {
        "useBottomSheet": true,
        "maxFiltersPerSheet": 8
      },
      "modals": {
        "preferBottomSheet": true,
        "fullScreenOnMobile": false
      }
    },
    "desktop": {
      "styling": ["cssvars", "tailwind", "cssmodules"],
      "routing": ["nextjs", "react-router"],
      "navigation": "sidebar + header (reuse web)",
      "dataDisplay": {
        "tables": true,
        "cards": true,
        "lists": true,
        "multiWindow": true
      },
      "forms": {
        "maxFieldsPerPage": 30,
        "stepperThreshold": 15
      },
      "touchTargets": {
        "min": "32px",
        "recommended": "40px"
      },
      "features": {
        "fileSystem": true,
        "autoUpdate": true,
        "systemTray": false
      }
    }
  },
  "transformations": {
    "mobile": {
      "dataTablePro": {
        "target": "CardListPro",
        "reason": "Tables are not mobile-friendly",
        "mapping": {
          "columns": "cardFields",
          "rows": "items",
          "pagination": "infiniteScroll",
          "filters": "bottomSheetFilters"
        }
      },
      "modal": {
        "target": "BottomSheetModal",
        "reason": "Better UX on mobile",
        "conditions": {
          "maxHeight": "80vh",
          "swipeToDismiss": true
        }
      },
      "sidebar": {
        "target": "BottomNav",
        "reason": "Mobile navigation pattern",
        "position": "bottom"
      }
    }
  }
}

